{% extends "base.html" %}
{% load url from future %}

{% block title %}Badge-ek kezelése{% endblock %}

{% block content %}

{% if content.operation == "list" %}
    <table>
        {% for badge in content.badgeek %}
            <tr>
                <td>{{ badge.nev }}</td>
                <td>{{ badge.leiras }}</td>
                <td><img src="/media/{{ badge.kep }}" width="50px"/></td>
            </tr>
        {% endfor %}
        <tr>
            <td colspan="3"><a href="{% url 'badge.views.manage_badge_new' %}">Új badge létrehozása</a></td>
        </tr>
    </table>
    <a href="{% url 'badge.views.start' %}">Vissza</a>
{% endif %}

{% if content.operation == "new" %}
    {% if content.error %}
        <div class="hiba">
            <p>{{ content.error }}</p>
        </div>
    {% endif %}
    
    <div>
        <h1>Új badge létrehozása</h1>
        <form enctype="multipart/form-data" method="post" action="{% url 'badge.views.manage_badge_new' %}">
        {% csrf_token %}
            <table>
                <tr>
                    <td><label>Az új badge neve</label><input type="text" name="nev" {% if content.badge_form %}value="{{ content.badge_form.nev }}"{% endif %}/></td>
                </tr>
                <tr>
                    <td><label>Az új badge leírása</label><input type="text" name="leiras" {% if content.badge_form %}value="{{ content.badge_form.leiras }}"{% endif %}/></td>
                </tr>
                <tr>
                    <td>
                        <label>Az új badge képe</label><input type="file" name="kep" accept="image/*"/>
                    </td>
                </tr>
                <tr>
                    <td><input type="submit" value="Mentés" /></td>
                </tr>
                <tr><td><a href="{% url 'badge.views.manage_badge_list' %}">Vissza</a></td></tr>
            </table>
        </form>
    </div>
{% endif %}

{% endblock %}